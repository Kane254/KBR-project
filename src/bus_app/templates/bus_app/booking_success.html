{% extends 'bus_app/base.html' %}


{% block title %}BusConnect Online Booking{% endblock %}



{% block content %}
<div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-xl text-center border border-green-300 transform scale-100 animate-fade-in">
    <h1 class="text-4xl font-bold text-green-700 mb-4">Booking Confirmed! ðŸŽ‰</h1>
    <p class="text-lg text-gray-700 mb-6">Thank you for your booking, <span class="font-semibold text-blue-800">{{ user.username }}</span>!</p>

    <div class="mb-6 text-left border-t border-b border-gray-200 py-4 px-2">
        <h2 class="text-2xl font-semibold text-blue-800 mb-3">Booking Details:</h2>
        <p class="text-gray-700 mb-1"><strong>Bus:</strong> <span class="font-medium">{{ bus.name }}</span> (<span class="font-medium">{{ bus.route }}</span>)</p>
        <p class="text-gray-700 mb-1"><strong>Departure Time:</strong> <span class="font-medium">{{ bus.departure_time|date:"F j, Y P" }}</span></p>
        <p class="text-gray-700 mb-1 flex items-center flex-wrap">
            <strong>Seats Booked:</strong>
            {% for seat in selected_seats %}
                <span class="inline-block bg-blue-100 text-blue-800 text-sm font-semibold px-2.5 py-0.5 rounded-full mr-1 mb-1 shadow-sm">{{ seat.seat_number }}</span>
            {% empty %}
                <span class="text-red-500">No seats found for this booking.</span>
            {% endfor %}
        </p>
        <p class="text-gray-700 mb-1"><strong>Number of Seats:</strong> <span class="font-medium">{{ num_seats_booked }}</span></p>
        <p class="text-gray-700 text-2xl font-bold mt-3"><strong>Total Price:</strong> <span class="text-green-700">Ksh {{ total_price|floatformat:2 }}</span></p>
        {% if discount_applied %}
            <p class="text-green-600 font-semibold mt-2 text-md">A 10% discount was applied to your booking!</p>
        {% endif %}
    </div>

    <p class="text-gray-700 mb-8 text-md">A confirmation email has been sent to your registered email address (<span class="font-semibold text-purple-700">{{ user.email }}</span>).</p>

    <a href="{% url 'home' %}" class="btn btn-primary py-3 px-6 text-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300">Go to Home</a>
</div>

<style>
    @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
    }
    .animate-fade-in {
        animation: fadeIn 0.5s ease-out forwards;
    }
</style>
{% endblock %}
